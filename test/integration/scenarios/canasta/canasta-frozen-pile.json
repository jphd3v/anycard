{
  "id": "canasta-frozen-pile",
  "rulesId": "canasta",
  "seed": "CANASTA-INTEGRATION-1",
  "intents": [
    { "type": "action", "playerId": "S", "action": "start-game" },

    {
      "type": "move",
      "playerId": "W",
      "fromPileId": "deck",
      "toPileId": "W-hand",
      "cardId": 46
    },
    {
      "type": "move",
      "playerId": "W",
      "fromPileId": "W-hand",
      "toPileId": "discard",
      "cardId": 2
    },

    {
      "type": "move",
      "playerId": "N",
      "fromPileId": "deck",
      "toPileId": "N-hand",
      "cardId": 14
    },
    {
      "type": "move",
      "playerId": "N",
      "fromPileId": "N-hand",
      "toPileId": "discard",
      "cardId": 57
    },

    {
      "type": "move",
      "playerId": "E",
      "fromPileId": "deck",
      "toPileId": "E-hand",
      "cardId": 15
    },
    {
      "type": "move",
      "playerId": "E",
      "fromPileId": "E-hand",
      "toPileId": "discard",
      "cardId": 42
    },

    {
      "type": "move",
      "playerId": "S",
      "fromPileId": "deck",
      "toPileId": "S-hand",
      "cardId": 48
    },
    {
      "type": "move",
      "playerId": "S",
      "fromPileId": "S-hand",
      "toPileId": "discard",
      "cardId": 13
    },

    {
      "type": "move",
      "playerId": "W",
      "fromPileId": "deck",
      "toPileId": "W-hand",
      "cardId": 24
    },
    {
      "type": "move",
      "playerId": "W",
      "fromPileId": "W-hand",
      "toPileId": "discard",
      "cardId": 71
    },

    {
      "type": "move",
      "playerId": "N",
      "fromPileId": "discard",
      "toPileId": "A-meld-4",
      "cardId": 71
    }
  ],
  "expect": {
    "currentPlayer": "N",
    "rulesState": {
      "phase": "playing",
      "hasDealt": true,
      "dealNumber": 1,
      "dealerIndex": 0,
      "players": ["S", "W", "N", "E"],
      "turnPhase": "meld-or-discard",
      "turnStartTeamHadMeld": { "A": false, "B": false },
      "tookDiscardThisTurn": true,
      "pickedUpFromDiscardCardIds": [59, 2, 57, 42, 13],
      "cardsPlayedToMeldsThisTurn": [71, 30, 84],
      "meldHistory": {
        "N": {
          "hasMeldedEver": true,
          "hasAddedToExistingMeldEver": false
        }
      },
      "gameScore": { "A": 0, "B": 0 },
      "lastHandScore": { "A": 0, "B": 0 },
      "result": null
    }
  }
}
