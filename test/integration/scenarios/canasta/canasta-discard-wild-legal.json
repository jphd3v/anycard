{
  "id": "canasta-discard-wild-legal",
  "rulesId": "canasta",
  "seed": "CANASTA-INTEGRATION-1",
  "description": "Test that wild cards (2s and Jokers) can be legally discarded even when non-wild cards are available in hand.",
  "intents": [
    { "type": "action", "playerId": "P1", "action": "start-game" },
    {
      "type": "move",
      "playerId": "P2",
      "fromPileId": "deck",
      "toPileId": "P2-hand",
      "cardId": 46
    },
    {
      "type": "move",
      "playerId": "P2",
      "fromPileId": "P2-hand",
      "toPileId": "discard",
      "cardId": 2,
      "comment": "Discard 2â™£ (wild card) - must be legal even with non-wild cards in hand"
    }
  ],
  "expect": {
    "currentPlayer": "P3",
    "rulesState": {
      "phase": "playing",
      "hasDealt": true,
      "dealNumber": 1,
      "dealerIndex": 0,
      "players": ["P1", "P2", "P3", "P4"],
      "turnPhase": "must-draw",
      "turnStartTeamHadMeld": { "A": false, "B": false },
      "tookDiscardThisTurn": false,
      "pickedUpFromDiscardCardIds": [],
      "cardsPlayedToMeldsThisTurn": [],
      "meldHistory": {},
      "gameScore": { "A": 0, "B": 0 },
      "lastHandScore": { "A": 0, "B": 0 },
      "result": null
    }
  }
}
